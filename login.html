<!DOCTYPE html>
<html>
<head>
  <title>Login - Soft Skills Hub</title>
</head>
<body>
  <h2>Login with Phone OTP</h2>

  <input type="text" id="phoneNumber" placeholder="+91xxxxxxxxxx">
  <div id="recaptcha-container"></div>
  <button onclick="sendOTP()">Send OTP</button>

  <br><br>
  <input type="text" id="otp" placeholder="Enter OTP">
  <button onclick="verifyOTP()">Verify OTP</button>

  <p id="message"></p>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);

    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');

    function sendOTP() {
      var phoneNumber = document.getElementById('phoneNumber').value;
      var appVerifier = window.recaptchaVerifier;
      firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)
        .then(function (confirmationResult) {
          window.confirmationResult = confirmationResult;
          document.getElementById("message").innerText = "OTP Sent!";
        }).catch(function (error) {
          document.getElementById("message").innerText = error.message;
        });
    }

    function verifyOTP() {
      var code = document.getElementById('otp').value;
      confirmationResult.confirm(code).then(function (result) {
        var user = result.user;
        document.getElementById("message").innerText = "Login Successful!";
        window.location.href = "index.html"; // Redirect to website
      }).catch(function (error) {
        document.getElementById("message").innerText = error.message;
      });
    }
  </script>
</body>
</html>
